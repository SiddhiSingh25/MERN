<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instagram Images</title>
    <style>
        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
            font-family: Arial, Helvetica, sans-serif;
        }

        body {
            height: 100vh;
            width: 100vw;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(to top, #292929, #2d2d2d);
            color: #fff;
            flex-direction: column;
        }

        .image-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            padding: 20px;
        }

        .image-card {
            height: 300px;
            width: 200px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border: 1px solid red;
            padding: 10px;
        }

        img {
            height: 100%;
            width: 100%;
            object-fit: cover;
            object-position: center;
            border-radius: 10px;
        }

        p {
            color: #fff;
            font-size: 14px;
            margin-top: 10px;
        }

        h1 {
            margin-bottom: 20px;
        }
    </style>
</head>

<body>
    <h1>Instagram Images</h1>
    <div class="image-container" id="image-container">
        <!-- Images will be appended here -->
    </div>

    <script>
        var myHeaders = new Headers();
        myHeaders.append("Content-Type", "application/json");
        var requestOptions = {
            method: "get",
            headers: myHeaders,
            redirect: "follow",

        };
            async function getData(){
                let res = await fetch("https://v1.nocodeapi.com/siddhyy/instagram/xtqmpJtCuEZiUwyt", requestOptions);
                let data =await res.json();
                console.log(data.data)
                let dataArr = data.data;
                dataArr.forEach(element => {
                    console.log(element. media_url)    
                    let imgCard = document.createElement("div")    
                    imgCard.classList.add('img-card')   
                    imgCard.setAttribute('src', element.media_url)         
                });
                
            }
            getData();
            
       /* let url = `https://v1.nocodeapi.com/siddhyy/instagram/xtqmpJtCuEZiUwyt`;
        async function getData() {
            try {
                let res = await fetch(url);
                let data = await res.json();

                let dataArr = data.data; // Store the fetched data in dataArr
                // Iterate over the data array and create elements for each item
                dataArr.forEach(item => {
                    // Create a new div for each image
                    let imageCard = document.createElement('div');
                    imageCard.classList.add('image-card');

                    // Create an img element for the media_url
                    let img = document.createElement('img');
                    img.setAttribute('src', item.media_url);

                    // Create a p element for the ID
                    let idText = document.createElement('p');
                    idText.innerText = `ID: ${item.id}`;

                    // Create a p element for the Date
                    let dateText = document.createElement('p');
                    dateText.innerText = `Date: ${new Date(item.timestamp).toLocaleDateString()}`;

                    // Append img and p elements to the imageCard div
                    imageCard.appendChild(img);
                    imageCard.appendChild(idText);
                    imageCard.appendChild(dateText);

                    // Append the imageCard to the container
                    document.getElementById('image-container').appendChild(imageCard);
                });

            } catch (error) {
                console.log(error);
                document.querySelector("h1").innerText = `Error: ${error}`;
                alert("Try after some time");
            }
        }
        getData();*/
    </script>
</body>

</html>